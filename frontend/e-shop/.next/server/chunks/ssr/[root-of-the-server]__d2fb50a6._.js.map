{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonyzaman/Desktop/giTHb/e-commerce/frontend/e-shop/lib/validation.ts"],"sourcesContent":["import { z } from \"zod\";\n\nexport const signupSchema = z.object({\n  fullName: z\n    .string()\n    .min(1, \"Full name is required\")\n    .max(100, \"Name must not exceed 100 characters\")\n    .regex(/^[^0-9]*$/, { message: 'Name should not contain numbers' }),\n  email: z\n    .string()\n    .min(1, \"Email is required\")\n    .email(\"Please enter a valid email address (e.g., john@example.com)\"),\n  age: z\n    .number()\n    .min(20, \"Age must be at least 20\")\n    .int(\"Age must be a whole number\"),\n  password: z\n    .string()\n    .min(1, \"Password is required\")\n    .regex(/[@#$&]/, { message: 'Password must contain at least one special character (@, #, $, &)' }),\n  linkedInUrl: z\n    .string()\n    .regex(\n      /^https:\\/\\/(www\\.)?linkedin\\.com\\/in\\/[A-Za-z0-9-_%]+\\/?$/,\n      { message: 'LinkedIn URL must be a valid profile link (e.g., https://www.linkedin.com/in/username/)' }\n    ),\n});\n\nexport const loginSchema = z.object({\n\n  email: z\n    .string()\n    .min(1, \"Email is required\")\n    .email(\"Please enter a valid email address (e.g., john@example.com)\"),\n  password: z\n    .string()\n    .min(1, \"Password is required\")\n    .regex(/[@#$&]/, { message: 'Password must contain at least one special character (@, #, $, &)' }),\n});\n\nexport const verifyEmailSchema = z.object({\n  email: z\n    .string()\n    .min(1, \"Email is required\")\n    .email(\"Please enter a valid email address\"),\n  otp: z\n    .string()\n    .min(1, \"Verification code is required\")\n    .length(3, \"Verification code must be 3 digits\")\n    .regex(/^\\d+$/, \"Verification code must contain only numbers\")\n});\n\nexport const productSchema = z.object({\n  name: z\n    .string()\n    .min(1, { message: \"Name is required\" }),\n  price: z\n    .number()\n    .min(0, { message: \"Price cannot be negative\" }),\n  description: z\n    .string()\n    .optional(),\n  stock: z\n    .number()\n    .min(0, { message: \"Stock cannot be negative\" }),\n  category: z\n    .string()\n    .optional(),\n  rating: z\n    .number()\n    .min(0)\n    .optional(),\n  image: z\n    .string()\n    .optional(),\n});\n\nexport type SignupData = z.infer<typeof signupSchema>;\nexport type LoginData = z.infer<typeof loginSchema>;\nexport type VerifyEmailData = z.infer<typeof verifyEmailSchema>;\nexport type ProductData = z.infer<typeof productSchema>;"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEO,MAAM,eAAe,kLAAC,CAAC,MAAM,CAAC;IACnC,UAAU,kLAAC,CACR,MAAM,GACN,GAAG,CAAC,GAAG,yBACP,GAAG,CAAC,KAAK,uCACT,KAAK,CAAC,aAAa;QAAE,SAAS;IAAkC;IACnE,OAAO,kLAAC,CACL,MAAM,GACN,GAAG,CAAC,GAAG,qBACP,KAAK,CAAC;IACT,KAAK,kLAAC,CACH,MAAM,GACN,GAAG,CAAC,IAAI,2BACR,GAAG,CAAC;IACP,UAAU,kLAAC,CACR,MAAM,GACN,GAAG,CAAC,GAAG,wBACP,KAAK,CAAC,UAAU;QAAE,SAAS;IAAoE;IAClG,aAAa,kLAAC,CACX,MAAM,GACN,KAAK,CACJ,6DACA;QAAE,SAAS;IAA0F;AAE3G;AAEO,MAAM,cAAc,kLAAC,CAAC,MAAM,CAAC;IAElC,OAAO,kLAAC,CACL,MAAM,GACN,GAAG,CAAC,GAAG,qBACP,KAAK,CAAC;IACT,UAAU,kLAAC,CACR,MAAM,GACN,GAAG,CAAC,GAAG,wBACP,KAAK,CAAC,UAAU;QAAE,SAAS;IAAoE;AACpG;AAEO,MAAM,oBAAoB,kLAAC,CAAC,MAAM,CAAC;IACxC,OAAO,kLAAC,CACL,MAAM,GACN,GAAG,CAAC,GAAG,qBACP,KAAK,CAAC;IACT,KAAK,kLAAC,CACH,MAAM,GACN,GAAG,CAAC,GAAG,iCACP,MAAM,CAAC,GAAG,sCACV,KAAK,CAAC,SAAS;AACpB;AAEO,MAAM,gBAAgB,kLAAC,CAAC,MAAM,CAAC;IACpC,MAAM,kLAAC,CACJ,MAAM,GACN,GAAG,CAAC,GAAG;QAAE,SAAS;IAAmB;IACxC,OAAO,kLAAC,CACL,MAAM,GACN,GAAG,CAAC,GAAG;QAAE,SAAS;IAA2B;IAChD,aAAa,kLAAC,CACX,MAAM,GACN,QAAQ;IACX,OAAO,kLAAC,CACL,MAAM,GACN,GAAG,CAAC,GAAG;QAAE,SAAS;IAA2B;IAChD,UAAU,kLAAC,CACR,MAAM,GACN,QAAQ;IACX,QAAQ,kLAAC,CACN,MAAM,GACN,GAAG,CAAC,GACJ,QAAQ;IACX,OAAO,kLAAC,CACL,MAAM,GACN,QAAQ;AACb","debugId":null}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonyzaman/Desktop/giTHb/e-commerce/frontend/e-shop/lib/api.ts"],"sourcesContent":["import axios from \"axios\";\nimport { LoginData, SignupData, VerifyEmailData } from \"./validation\";\n\nexport async function registerAdmin(userData: SignupData) {\n  const response = await axios.post('http://localhost:3000/admin/register', userData);\n  return response.data;\n}\n\nexport async function loginAdmin(adminData: LoginData) {\n  const response = await axios.post('http://localhost:3000/auth/admin/login', adminData);\n  return response.data;\n}\n\nexport async function verifyEmail(userData: VerifyEmailData) {\n  const response = await axios.post('http://localhost:3000/admin/verify-email', userData);\n  return response.data;\n}\n\nexport const fetchProducts = async () => {\n  try {\n    const res = await axios.get(\"http://localhost:4000/products\");\n    return res.data;\n  } catch (error) {\n    console.error(\"Failed to fetch products:\", error);\n    return [];\n  }\n};"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAGO,eAAe,cAAc,QAAoB;IACtD,MAAM,WAAW,MAAM,gJAAK,CAAC,IAAI,CAAC,wCAAwC;IAC1E,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,WAAW,SAAoB;IACnD,MAAM,WAAW,MAAM,gJAAK,CAAC,IAAI,CAAC,0CAA0C;IAC5E,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,YAAY,QAAyB;IACzD,MAAM,WAAW,MAAM,gJAAK,CAAC,IAAI,CAAC,4CAA4C;IAC9E,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,gBAAgB;IAC3B,IAAI;QACF,MAAM,MAAM,MAAM,gJAAK,CAAC,GAAG,CAAC;QAC5B,OAAO,IAAI,IAAI;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,OAAO,EAAE;IACX;AACF","debugId":null}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonyzaman/Desktop/giTHb/e-commerce/frontend/e-shop/app/auth/signup/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport { signupSchema } from \"@/lib/validation\";\nimport { registerAdmin } from \"@/lib/api\";\nimport { useRouter } from \"next/navigation\";\n\nexport default function SignupPage() {\n  const [fullName, setFullName] = useState('');\n  const [email, setEmail] = useState('');\n  const [age, setAge] = useState('');\n  const [password, setPassword] = useState('');\n  const [linkedInUrl, setLinkedInUrl] = useState('');\n  const [error, setError] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const router = useRouter();\n\n  const handleChange = (setter: any) => (e: React.ChangeEvent<HTMLInputElement>) => {\n    setter(e.target.value);\n    if (error) setError('');\n  };\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    setError('');\n\n    const validation = signupSchema.safeParse({ \n      fullName, \n      email, \n      age: parseInt(age), \n      password, \n      linkedInUrl \n    });\n\n    if (!validation.success) {\n      const firstError = validation.error.issues[0];\n      setError(firstError.message);\n      setIsSubmitting(false);\n      return;\n    }\n\n    try {\n      const result = await registerAdmin(validation.data);\n      alert(result.message);\n      router.push(`/auth/verifyotp?email=${encodeURIComponent(email)}`);\n\n    } catch (error: any) {\n      setIsSubmitting(false);\n\n      if (error.response) {\n        const errorMessage = error.response.data?.message || 'Registration failed';\n        setError(errorMessage);\n      } else if (error.request) {\n        setError('Unable to connect to server. Please check your connection.');\n      } else {\n        setError('An unexpected error occurred. Please try again.');\n      }\n    }\n  };\n\n  return (\n    <div className=\"max-w-md mx-auto mt-12 p-5 border border-gray-300 rounded-lg bg-gray-50\">\n      <h1 className=\"text-center mb-8 text-gray-800 text-xl font-semibold\">\n        Create Admin Account\n      </h1>\n\n      <form onSubmit={handleSubmit} noValidate>\n        <div className=\"mb-5\">\n          <label htmlFor=\"fullName\" className=\"block mb-1 font-medium text-gray-800\">\n            Full Name\n          </label>\n          <input \n            type=\"text\" \n            id=\"fullName\" \n            name=\"fullName\" \n            value={fullName} \n            onChange={handleChange(setFullName)}\n            className={`w-full px-3 py-2 text-sm text-gray-800 border rounded ${\n              error && (error.includes('name') || error.includes('Name')) \n                ? 'border-red-600 border-2' \n                : 'border-gray-400'\n            } box-border`}\n            placeholder=\"Enter your full name\"\n          />\n        </div>\n\n        <div className=\"mb-5\">\n          <label htmlFor=\"email\" className=\"block mb-1 font-medium text-gray-800\">\n            Email Address\n          </label>\n          <input \n            type=\"email\" \n            id=\"email\" \n            name=\"email\" \n            value={email} \n            onChange={handleChange(setEmail)}\n            className={`w-full px-3 py-2 text-sm text-gray-800 border rounded ${\n              error && error.toLowerCase().includes('email') \n                ? 'border-red-600 border-2' \n                : 'border-gray-400'\n            } box-border`}\n            placeholder=\"Enter your email\"\n          />\n        </div>\n\n        <div className=\"mb-5\">\n          <label htmlFor=\"age\" className=\"block mb-1 font-medium text-gray-800\">\n            Age\n          </label>\n          <input \n            type=\"number\" \n            id=\"age\" \n            name=\"age\" \n            value={age} \n            onChange={handleChange(setAge)}\n            className={`w-full px-3 py-2 text-sm text-gray-800 border rounded ${\n              error && error.toLowerCase().includes('age') \n                ? 'border-red-600 border-2' \n                : 'border-gray-400'\n            } box-border`}\n            placeholder=\"Enter your age\"\n            min=\"20\"\n          />\n        </div>\n\n        <div className=\"mb-5\">\n          <label htmlFor=\"password\" className=\"block mb-1 font-medium text-gray-800\">\n            Password\n          </label>\n          <input \n            type=\"password\" \n            id=\"password\" \n            name=\"password\" \n            value={password} \n            onChange={handleChange(setPassword)}\n            className={`w-full px-3 py-2 text-sm text-gray-800 border rounded ${\n              error && error.toLowerCase().includes('password') && !error.includes('match') \n                ? 'border-red-600 border-2' \n                : 'border-gray-400'\n            } box-border`}\n            placeholder=\"Enter your password\"\n          />\n          <small className=\"text-xs text-gray-600 mt-1 block\">\n            Must contain at least one special character (@, #, $, &)\n          </small>\n        </div>\n\n        <div className=\"mb-6\">\n          <label htmlFor=\"linkedInUrl\" className=\"block mb-1 font-medium text-gray-800\">\n            LinkedIn Profile URL\n          </label>\n          <input \n            type=\"url\" \n            id=\"linkedInUrl\" \n            name=\"linkedInUrl\" \n            value={linkedInUrl} \n            onChange={handleChange(setLinkedInUrl)}\n            className={`w-full px-3 py-2 text-sm text-gray-800 border rounded ${\n              error && (error.includes('LinkedIn') || error.includes('url')) \n                ? 'border-red-600 border-2' \n                : 'border-gray-400'\n            } box-border`}\n            placeholder=\"https://www.linkedin.com/in/username/\"\n          />\n          <small className=\"text-xs text-gray-600 mt-1 block\">\n            Enter your LinkedIn profile URL\n          </small>\n        </div>\n\n        {error && ( \n          <div className=\"text-red-600 text-xs mb-4 block\">\n            {error}\n          </div>\n        )}\n\n        <button \n          type=\"submit\" \n          disabled={isSubmitting}\n          className={`w-full py-3 text-white rounded font-medium mb-4 ${\n            isSubmitting \n              ? 'bg-gray-500 cursor-not-allowed' \n              : 'bg-blue-600 hover:bg-blue-700 cursor-pointer'\n          }`}\n        >\n          {isSubmitting ? 'Creating Account...' : 'Create Admin Account'}\n        </button>\n\n        <div className=\"text-center text-sm text-gray-600\">\n          <Link href=\"/login\" className=\"text-blue-600 no-underline mr-4 hover:text-blue-700\">\n            Already have an account?\n          </Link>\n        </div>\n      </form>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}